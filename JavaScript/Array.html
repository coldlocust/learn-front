<!--
 * @Author: your name
 * @Date: 2020-11-18 14:19:50
 * @LastEditTime: 2020-11-18 15:19:51
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: \html&CSS&JavaScript\JavaScript\array.html
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        /* ES5为数组定义了5个迭代方法，每个方法接收两个参数
        *   1.要在每一项运行的函数 2.运行该函数的作用域对象(可选的)---影响this的值
        *  传入这些方法中的函数接收三个参数：数组项的值，该项在数组中的位置，数组对象本身
        *  根据使用方法的不同，这个函数执行后的返回值可能会也可能不会影响访问的返回值
        *   以下是这5个迭代方法的作用
        *     1.every():对数组中的每一项运行给定函数，如果该函数对每一项都返回true,则返回true
        *     2.filter():对数组中的每一项运行给定函数，返回该函数会返回true的项组成的数组
        *     3.forEach():对数组中的每一项运行给定函数，这个方法没有返回值
        *     4.map():对数组中的每一项运行给定函数，返回每次函数调用的结果组成的数组
        *     5.some():对数组中的每一项运行给定函数，如果该函数对任一项返回true，则返回true
        *
        */
        var numbers = [1, 2, 3, 4, 5, 4, 3, 2, 1]

        /**
         * @description: every()的使用,仅当运行的给定的函数全部返回true才会返回true
         * @param 要在每一项运行的函数
         * @return Boolean
         */
        let everyResult_1 = numbers.every(function (item, index, array) { return item > 2 })
        console.log(everyResult_1)  //false
        let everyResult_2 = numbers.every((item, index, array) => { return item > 0 })
        console.log(everyResult_2)  //true

        /**
        * @description: some()的使用,只要运行的给定的函数有一个返回true就会返回true
        * @param 要在每一项运行的函数
        * @return Boolean
        */
        let someResult_1 = numbers.some((item, index, array) => { return item > 2 })
        console.log(someResult_1)  //true

        /**
         * @description: filter()的使用,如果运行的给定的函数在某一数组项返回true，就把那一项加到新数组中
         * @param 要在每一项运行的函数
         * @return Array
         */
        let filterResult_1 = numbers.filter((item, index, array) => { return item > 2 })
        console.log(filterResult_1)  //3 4 5 4 3

         /**
         * @description: map()的使用,运行的给定的函数对原始数组的每一项执行操作，将每个数组项操作后的结果放到新数组中
         * @param 要在每一项运行的函数
         * @return Array
         */
        let mapResult_1 = numbers.map((item, index, array) => { return item*2 })
        console.log(mapResult_1)  //2 4 6 8 10 8 6 4 2

         /**
         * @description: forEach()的使用,在数组的指定项上执行操作，但是不返回值
         * @param 要在每一项运行的函数
         */
         numbers.forEach((item, index, array) => { console.log(item) })

         /* ES5新增了两个缩小数组的方法reduce()和reduceRight()
         *    共同点：迭代数组的所有项，然后构建一个最终返回的值
         *            这两个方法都接收两个参数：
         *              1.第一个参数：在每一项上调用的函数
         *                  这个函数接收4个参数：前一个值、当前值、项的索引值、数组对象
         *                  这个函数的返回的任何返回值都会作为第一个参数自动传给下一项
         *                  第一次迭代发生在数组的第二项上，第一个参数是数组第一项，第二个参数是数组第二项
         *              2.第二个参数：（可选的）作为缩小基础的初始值
         *    不同：reduce()方法从数组的第一项开始，逐个遍历到最后
         *          reduceRight()方法从数组的最后一项开始，向前遍历到第一项
         */
         let reduceSum=numbers.reduce((prev,cur)=>{return prev+cur})
         console.log(reduceSum)  //25
         let reduceRightSum=numbers.reduce((prev,cur)=>{return prev+cur})
         console.log(reduceRightSum)   //25
    </script>
</body>

</html>